---
title: Specify the path where GridWeb stores temporary  files
type: docs
weight: 50
url: /net/gridweb-cache-files/
keywords: cache,session,storage
---
### about file cache
{{% alert color="primary" %}} 

When GridWeb session mode is ViewState, it stores its temporary session files inside the Application Base Directory. Sometimes, it is not OK to store temporary session files there because Application Base Directory might not have write permissions on it. In such cases, GridWeb throws such an exception

{{< highlight java >}}

 [UnauthorizedAccessException: Access to

the path 'D:\inetpub\wwwroot\AsposeExcelTest\gwb_tempGridWeb1' is denied.]

{{< /highlight >}}

The solution to above problem is to give write access to Application Base Directory or change the GridWeb temporary session files path having write access using the GridWeb.SessionStorePath property. This path should be relative to Application Base Directory.

{{% /alert %}} 
#### **Specify the path where GridWeb stores temporary session files**
The following sample code specifies the path where GridWeb stores temporary session files.



{{< gist "aspose-cells-gists" "7c644a93d33d24299a618c1dda1a2385" "Examples.GridWeb-CSharp-Articles-SpecifySessionStorePath.aspx-SpecifySessionStorePath.cs" >}}

### about picture cache

when there are shapes/pictures in the worksheet,GridWeb will save all the shape/pictures to a cache path

the default cache path is ***System.Web.HttpContext.Current.Server.MapPath("/acwcache")***

also we can use ***GridWeb.PictureCachePath*** to set this path to specific path.

when we open a page  GridWeb will resolve the request image url,and get the image stream from the cache by the url id.

for example ,if your page address is *http://ip/mygridwebapp/test.aspx*  

the image request url generated by GridWeb will be *http://ip/mygridwebapp/test.aspx/acw_image/imageid*.

#### sometimes the shapes/pictures are not loaded when you use [Friendly Url](https://weblogs.asp.net/psheriff/using-friendly-urls-in-web-forms).

you need to check the image url request.

the normal image request shall be like: *http://ip/mygridwebapp/test.aspx/acw_image/imageid*

but your request go like this :*http://ip/mygridwebapp/test/acw_image/imageid*

if you use FriendlyUrl you need to filter out the image url request for GridWeb.

thus GridWeb control server can get and resolve the request and find the image stream from the cache path.

for example we assume your page url like this:*http://ip/mygridwebapp/test.aspx*

then the below code is a workaround to fix such issue.
```csharp
//write your custom url resolver:MyWebFormsFriendlyUrlResolver
public class MyWebFormsFriendlyUrlResolver : WebFormsFriendlyUrlResolver
{
public MyWebFormsFriendlyUrlResolver() { }

    public override string ConvertToFriendlyUrl(string path)
    {
        if (!string.IsNullOrEmpty(path))
        {//filter your GridWeb related page,here we use 'mygridwebapp' to identify as we assume your page is:http://ip/mygridwebapp/test.aspx
            if (path.ToLower().Contains("mygridwebapp"))
            { // Here the filter code
                return path;
            }
        }
        return base.ConvertToFriendlyUrl(path);
    }
}
//in RoutConfig.cs set the custom url resolver:MyWebFormsFriendlyUrlResolver
public static class RouteConfig
{
    public static void RegisterRoutes(RouteCollection routes)
    {
        var settings = new FriendlyUrlSettings();
        settings.AutoRedirectMode = RedirectMode.Permanent;
        routes.EnableFriendlyUrls(settings, new IFriendlyUrlResolver[] {
                             new MyWebFormsFriendlyUrlResolver() });
    }
}
```





